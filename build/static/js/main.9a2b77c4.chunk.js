(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{431:function(e,t){},433:function(e,t){},437:function(e,t){},438:function(e,t){},463:function(e,t){},465:function(e,t){},476:function(e,t){},478:function(e,t){},489:function(e,t){},491:function(e,t){},507:function(e,t){},540:function(e,t){},541:function(e,t){},609:function(e,t){},611:function(e,t){},616:function(e,t){},618:function(e,t){},625:function(e,t){},637:function(e,t){},640:function(e,t){},645:function(e,t){},718:function(e,t){},72:function(e,t){e.exports={botName:"Shroom Bot",clientId:"913522072947408897",token:{iv:"31fb949ef45c88558a1725d372bd40a7",content:"4937f10b9936773f4ce747653e7792b9853f8f8bc747704746e610278c62d1b3d04a390fc9d6c78919af7b83feeafb67682e12368312b4f0ce4fc8"},site_url:"https://shroom-website.herokuapp.com",redirect_uri:"http://shroom-website.herokuapp.com/api/auth/discord/redirect",contractAddress:"0x4231B1781407C52cAd238D8746453D0C726A6F70",contractAddress_1:"0x935df80E83c5b32c59F5B647425baCc3eC578963",contractABI:[{inputs:[{internalType:"string",name:"baseURI",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"MAX_ENTRIES",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"finishSale",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"freeminted",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentStage",outputs:[{internalType:"enum Shrooms.STAGES",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getWhitelistState",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"isDiscountAddress",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxCountForTeam",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxPurchaseCount",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"preMintedCnt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"reservedCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"reservedForTeam",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"baseURI",type:"string"}],name:"setBaseURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"addresses",type:"address[]"}],name:"setWhitelistAddresses",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"sold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"startSale",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"startTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalMinted",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"whitelistAccessCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"whitelisted",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],BronzeId:"910263721614512168",SilverId:"913501585705938995",GoldId:"913502012375707698",DiamondId:"913503082669830156",PublicId:"913862561508761601"}},751:function(e,t){},823:function(e,t){},829:function(e,t){},842:function(e,t){},852:function(e,t,n){},853:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n(109),r=n.n(i),s=n(383),u=n(25),o=n(1),p=n.n(o),d=n(5),c=n(57),l=n(133),y={CHANGE_WALLET:"CHANGE_WALLET"},m=n(900),f=n(893),b=n(54),T=n.n(b);function w(e,t,n){return T.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",T.a.post("/api/role/buyrole",{guildId:e,userId:t,roleId:n},{withCredentials:!0,credentials:"include"})}n(895),n(897),n(898),n(899),n(894);var v=n(369),h=n.n(v),x=n(372),O=n.n(x),j=(n(854),void 0);function g(){return M.apply(this,arguments)}function M(){return(M=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.connect();case 2:return j=e.sent,console.log("provider:",j),e.abrupt("return",new h.a(j));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I=new O.a({cacheProvider:!0,providerOptions:{injected:{package:null}}}),A=n(84),k=n(154),C=n(214),E={address:""},_=Object(A.b)({wallet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;return t.type===y.CHANGE_WALLET?(console.log("change wallet reducer:",t),Object(C.a)(Object(C.a)({},e),{},{address:t.payload})):e}}),S=_,N=Object(A.a)(k.a)(A.c)(S),B=void 0,F=void 0;function W(){return L.apply(this,arguments)}function L(){return(L=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.eth.getAccounts();case 2:G(e.sent),void 0!==j&&null!==j&&(j.on("accountsChanged",(function(e){G(e),N.dispatch({type:y.CHANGE_WALLET,payload:e[0]})})),j.on("chainChanged",(function(e){window.location.reload()})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return R.apply(this,arguments)}function R(){return(R=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==F){e.next=13;break}return e.prev=1,e.next=4,g();case 4:return F=e.sent,e.next=7,W();case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),window.alert("Wallet Connect Error!"),console.log("wallet connect error, reconnecting");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function G(e){void 0!==e&&e.length>0?B=e[0]:void 0!==B&&(I.clearCachedProvider(),B=void 0)}var P=n(7);function H(){return Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)("div",{className:"fixed top-0 left-0 right-0 bottom-0 w-full h-screen z-50 overflow-hidden bg-trueGray-900 opacity-75 flex flex-col items-center justify-center",children:[Object(P.jsx)("div",{className:"loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-12 w-12 mb-4"}),Object(P.jsx)("h2",{className:"text-center text-white text-xl font-semibold",children:"Loading..."})]})})}var U=n(85),z=(n(848),function(e,t){switch(e){case"success":U.b.success(t);break;case"error":U.b.error(t);break;case"warn":U.b.warn(t);break;case"info":U.b.info(t);break;default:Object(U.b)(t)}}),X=n(72);var V=Object(l.b)((function(e){return{address:e.wallet.address}}),(function(e){return{changeWalletAddress:function(t){e({type:y.CHANGE_WALLET,payload:t})}}}))(Object(f.a)({formControl:{marginBottom:"20px"},card:{minWidth:"200px",maxWidth:"350px",display:"flex",justifyContent:"center"},noRole:{fontSize:"30px"}})((function(e){var t=Object(a.useState)(!0),n=Object(c.a)(t,2),i=n[0],r=n[1],s=Object(a.useState)([]),o=Object(c.a)(s,2),l=(o[0],o[1],Object(u.f)()),y=l.guildId,f=l.userId,b=function(){var t=Object(d.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.changeWalletAddress(n);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),T=function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:b(B);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)(Object(d.a)(p.a.mark((function t(){var n,a,i,s,u,o,d;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.getItem("WEB3_CONNECT_CACHED_PROVIDER")){t.next=23;break}if(""===e.address){t.next=21;break}return t.next=4,F.eth.getChainId();case 4:if(250==t.sent){t.next=8;break}return z("error","Please switch to Fantom Opera and try again."),t.abrupt("return");case 8:return n=new F.eth.Contract(X.contractABI,X.contractAddress),a=new F.eth.Contract(X.contractABI,X.contractAddress_1),t.next=12,n.methods.balanceOf(e.address).call();case 12:return i=t.sent,t.next=15,a.methods.balanceOf(e.address).call();case 15:s=t.sent,u=Number(i)+Number(s),o=X.PublicId,d="NOT",u>=10?(o=X.DiamondId,d="Diamond"):u>=6?(o=X.GoldId,d="Gold"):u>=3?(o=X.SilverId,d="Silver"):u>=1&&(o=X.BronzeId,d="Bronze"),w(y,f,o).then((function(e){console.log(e.data),r(!1),1==e.data.result?z("success","You are ".concat(d," holder now.")):z("error","Role assigning failed")})).catch((function(e){r(!1),z("error","Missing Permission"),console.log(e)}));case 21:t.next=25;break;case 23:r(!1),b("");case 25:case"end":return t.stop()}}),t)}))),[e.address]),Object(a.useEffect)((function(){console.log("init"),T()}),[]),Object(P.jsx)(P.Fragment,{children:!0===i?Object(P.jsx)(H,{}):Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)("div",{children:[Object(P.jsx)(U.a,{}),Object(P.jsx)(m.a,{maxWidth:"lg"})]})})})})));function J(){return Object(P.jsx)(s.a,{children:Object(P.jsx)(u.c,{children:Object(P.jsx)(u.a,{path:"/role/guilds/:guildId/members/:userId",children:Object(P.jsx)(V,{})})})})}var Y=function(){return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(J,{})})},q=(n(852),Object(A.c)(S,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),Object(A.a)(k.a)));r.a.render(Object(P.jsxs)(l.a,{store:q,children:[Object(P.jsx)(Y,{}),","]}),document.getElementById("root"))}},[[853,1,2]]]);
//# sourceMappingURL=main.9a2b77c4.chunk.js.map